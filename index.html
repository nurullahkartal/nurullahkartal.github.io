<!DOCTYPE html>
<html lang="tr">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Nurullah Kartal - Web Sitesi YayÄ±nda</title>
Â  Â  <link rel="stylesheet" href="style.css">
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
Â  Â  <style>
        /* Bot YÃ¶netim Paneli iÃ§in gerekli CSS'ler */
        .bot-container { max-width: 600px; margin: 50px auto; background-color: #161b22; padding: 25px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        .bot-container h1 { color: #58a6ff; text-align: center; }
        .bot-container label { display: block; margin-bottom: 8px; font-weight: bold; }
        .bot-container input[type="text"] { width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #30363d; border-radius: 6px; background-color: #0d1117; color: #c9d1d9; box-sizing: border-box; }
        .bot-container button { background-color: #238636; color: white; padding: 12px 20px; border: none; border-radius: 6px; cursor: pointer; width: 100%; font-size: 16px; transition: background-color 0.3s; }
        .bot-container button:hover { background-color: #2ea043; }
        #sonuc { margin-top: 20px; padding: 15px; border-radius: 6px; white-space: pre-wrap; word-wrap: break-word; }
        .success { background-color: #1f3622; border-left: 5px solid #238636; }
        .error { background-color: #63080b; border-left: 5px solid #d73a49; }
        .warning { background-color: #3b3100; border-left: 5px solid #d29922; }
    </style>
</head>
<body style="background-color: #0d1117; color: #c9d1d9;"> 
Â  Â  
    Â  Â  <div class="container">
Â  Â  Â  Â  <h1>NURULLAH KARTAL</h1>
Â  Â  Â  Â  <h2>WEB SÄ°TESÄ° YAKINDA AÃ‡ILIYOR</h2>
Â  Â  Â  Â  <p>Projelerim, yazÄ±larÄ±m ve daha fazlasÄ± iÃ§in beklemede kalÄ±n.</p>
Â  Â  Â  Â  <div class="social">
Â  Â  Â  Â  Â  Â  <a href="https://github.com/nurullahkartal" target="_blank">GitHub'da Takip Et</a>
Â  Â  Â  Â  </div>
Â  Â  </div>
    <hr style="border-top: 1px solid #30363d; width: 80%; margin: 50px auto;">

    <div class="bot-container">
        <h1>ğŸ¤– Bot YÃ¶netim Paneli</h1>
        <p class="warning">âš ï¸ NOT: Bu panel, botunuz yerel bilgisayarÄ±nÄ±zda (ngrok ile) Ã§alÄ±ÅŸÄ±rken API'ye komut gÃ¶nderir.</p>

        <label for="konu">Analiz Edilecek Konu (Wikipedia BaÅŸlÄ±ÄŸÄ±):</label>
        <input type="text" id="konu" placeholder="Ã–rn: TÃ¼rkiye ekonomisi">
        
        <button onclick="analizBaslat()">Analiz BaÅŸlat & Instagram'a YÃ¼kle</button>
        
        <div id="sonuc">SonuÃ§lar burada gÃ¶rÃ¼necek...</div>
    </div>
    <script>
        // Ngrok'tan aldÄ±ÄŸÄ±nÄ±z kalÄ±cÄ± HTTPS adresi buraya yapÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸtÄ±r.
        const API_BASE_URL = 'https://nonadeptly-nonfilamentous-campbell.ngrok-free.dev'; 

        const API_URL = API_BASE_URL + '/api/analiz';
    
        async function analizBaslat() {
            const konu = document.getElementById('konu').value.trim();
            const sonucDiv = document.getElementById('sonuc');
            
            if (!konu) {
                sonucDiv.className = 'error';
                sonucDiv.innerHTML = 'LÃ¼tfen bir konu girin.';
                return;
            }
    
            sonucDiv.className = 'warning';
            sonucDiv.innerHTML = `â³ '${konu}' iÃ§in analiz baÅŸlatÄ±lÄ±yor... (Bot konsolunu kontrol edin)`;
    
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ konu: konu })
                });
    
                const data = await response.json();
    
                if (response.ok) {
                    sonucDiv.className = 'success';
                    sonucDiv.innerHTML = `âœ… BAÅARILI: ${data.message}\nMedia ID: ${data.media_id}`;
                } else {
                    sonucDiv.className = 'error';
                    sonucDiv.innerHTML = `âŒ HATA: ${data.message}\nDurum Kodu: ${response.status}`;
                }
    
            } catch (error) {
                sonucDiv.className = 'error';
                sonucDiv.innerHTML = `ğŸš¨ KRÄ°TÄ°K BAÄLANTI HATASI: Botunuz Ã§alÄ±ÅŸmÄ±yor veya ngrok tÃ¼neli kapalÄ±.\nDetay: ${error.message}`;
            }
        }
    </script>
</body>
</html>